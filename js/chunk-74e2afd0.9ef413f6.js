(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74e2afd0"],{5895:function(t,e,c){"use strict";c.r(e);var l=c("7a23"),s=c("9d61"),n=c.n(s),r=c("b600"),a=c.n(r),b=c("fe29"),i=c.n(b);const d=Object(l["i"])('<div class="container-fluid d-flex align-items-center justify-content-center px-0"><h4 class="en-font-title en-font">CART</h4><img src="'+n.a+'" class="d-lg-block d-none w-100" alt="banner"><img src="'+a.a+'" class="d-md-block d-none d-lg-none w-100" alt="Carousel01"><img src="'+i.a+'" class="d-sm-block d-md-none w-100" alt="Carousel01"></div>',1),o={class:"container"},h={class:"row my-5 d-flex justify-content-center"},u={class:"step-line mb-4"},j={class:"col-12 d-flex ps-0 justify-content-center align-items-center en-font mx-auto"},O={class:"circle circle01 col-3"},p=Object(l["h"])("p",{class:"step"},"確認訂單資訊",-1),m={class:"circle circle01 col-3 offset-1"},f=Object(l["h"])("p",{class:"step"},"建立個人訂單",-1),g={class:"circle circle01 col-3 offset-1"},y=Object(l["h"])("p",{class:"step"},"付款完成",-1),x={class:"bg-white col-xl-7 row justify-content-center"},v={key:0,class:"payFinish d-flex flex-column align-items-center justify-content-center"},k=Object(l["h"])("p",{class:"h5 en-font"},"訂單成立，感謝您的購買！",-1),w={class:"text-center"},L=Object(l["h"])("input",{value:"再去逛逛",type:"submit",class:"btn btn-primary px-4 text-white en-font rounded-0"},null,-1),_=Object(l["h"])("p",{class:"en-font h4"},"訂單資訊",-1),I=Object(l["h"])("hr",null,null,-1),z={class:"table align-middle mt-3 mb-2 text-900"},$=Object(l["h"])("td",null,"訂單編號",-1),C=Object(l["h"])("td",null,null,-1),S=Object(l["h"])("td",null,"建立日期",-1),q=Object(l["h"])("td",null,null,-1),J={class:"table align-middle mt-5 text-900"},M=Object(l["h"])("thead",null,[Object(l["h"])("th"),Object(l["h"])("th",{class:"ps-3"},"品名"),Object(l["h"])("th",null,"數量"),Object(l["h"])("th",null,"單價")],-1),U={class:"ps-3"},A={class:"text-end"},E=Object(l["h"])("td",{colspan:"3",class:"text-end"},"總計",-1),F={class:"text-end"},G={class:"table text-900"},R=Object(l["h"])("th",{width:"100"},"Email",-1),T=Object(l["h"])("th",null,"姓名",-1),W=Object(l["h"])("th",null,"收件人電話",-1),B=Object(l["h"])("th",null,"收件人地址",-1),D=Object(l["h"])("th",null,"付款狀態",-1),H={key:0},K={key:1,class:"text-success"},N={key:0,class:"text-center"},P=Object(l["h"])("input",{value:"確認付款去",type:"submit",class:"btn btn-primary px-4 text-white en-font rounded-0"},null,-1),Q=[P];function V(t,e,c,s,n,r){const a=Object(l["I"])("CustomLoading"),b=Object(l["I"])("router-link");return Object(l["z"])(),Object(l["g"])(l["a"],null,[Object(l["k"])(a,{active:n.isLoading},null,8,["active"]),d,Object(l["h"])("div",o,[Object(l["h"])("div",h,[Object(l["h"])("div",u,[Object(l["h"])("ul",j,[Object(l["h"])("li",O,[Object(l["h"])("p",{class:Object(l["s"])(["num d-block mx-auto",{primaryStep:!0}])},"1"),p]),Object(l["h"])("li",m,[Object(l["h"])("p",{class:Object(l["s"])(["num d-block mx-auto",{primaryStep:!0}])},"2"),f]),Object(l["h"])("li",g,[Object(l["h"])("p",{class:Object(l["s"])(["num d-block mx-auto",{primaryStep:n.order.is_paid}])},"3",2),y])])]),Object(l["h"])("div",x,[!0===n.order.is_paid?(Object(l["z"])(),Object(l["g"])("div",v,[k,Object(l["h"])("div",w,[Object(l["k"])(b,{to:"../../user/products"},{default:Object(l["U"])(()=>[L]),_:1})])])):Object(l["f"])("",!0),Object(l["h"])("form",{class:"py-5 px-2",onSubmit:e[0]||(e[0]=Object(l["W"])((...t)=>r.payOrder&&r.payOrder(...t),["prevent"]))},[_,I,Object(l["h"])("table",z,[Object(l["h"])("tbody",null,[Object(l["h"])("tr",null,[$,Object(l["h"])("td",null,Object(l["L"])(n.orderId),1),C])]),Object(l["h"])("tbody",null,[Object(l["h"])("tr",null,[S,Object(l["h"])("td",null,Object(l["L"])(t.$filters.date(n.create_at)),1),q])])]),Object(l["h"])("table",J,[M,Object(l["h"])("tbody",null,[(Object(l["z"])(!0),Object(l["g"])(l["a"],null,Object(l["G"])(n.order.products,t=>(Object(l["z"])(),Object(l["g"])("tr",{key:t.id,style:{height:"100px"}},[Object(l["h"])("td",{style:Object(l["t"])([{width:"100px",height:"60px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.product.imageUrl})`}])},null,4),Object(l["h"])("td",U,Object(l["L"])(t.product.title),1),Object(l["h"])("td",null,Object(l["L"])(t.qty)+" / "+Object(l["L"])(t.product.unit),1),Object(l["h"])("td",A,Object(l["L"])(Math.round(t.final_total)),1)]))),128))]),Object(l["h"])("tfoot",null,[Object(l["h"])("tr",null,[E,Object(l["h"])("td",F,Object(l["L"])(Math.round(n.order.total)),1)])])]),Object(l["h"])("table",G,[Object(l["h"])("tbody",null,[Object(l["h"])("tr",null,[R,Object(l["h"])("td",null,Object(l["L"])(n.order.user.email),1)]),Object(l["h"])("tr",null,[T,Object(l["h"])("td",null,Object(l["L"])(n.order.user.name),1)]),Object(l["h"])("tr",null,[W,Object(l["h"])("td",null,Object(l["L"])(n.order.user.tel),1)]),Object(l["h"])("tr",null,[B,Object(l["h"])("td",null,Object(l["L"])(n.order.user.address),1)]),Object(l["h"])("tr",null,[D,Object(l["h"])("td",null,[!1===n.order.is_paid?(Object(l["z"])(),Object(l["g"])("span",H,"尚未付款")):Object(l["f"])("",!0),!0===n.order.is_paid?(Object(l["z"])(),Object(l["g"])("span",K,"付款完成")):Object(l["f"])("",!0)])])])]),!1===n.order.is_paid?(Object(l["z"])(),Object(l["g"])("div",N,Q)):Object(l["f"])("",!0)],32)])])])],64)}var X={inject:["emitter"],data(){return{order:{user:{}},orderId:"",isLoading:!1,is_paid:!1,create_at:""}},methods:{getOrder(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/order/"+this.orderId;this.$http.get(t).then(t=>{t.data.success&&(this.order=t.data.order,this.create_at=t.data.order.create_at,this.emitter.emit("update-qty"))}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message}),this.isLoading=!1})},payOrder(){const t="https://vue3-course-api.hexschool.io/api/tracytung-vue-api/pay/"+this.orderId;this.$http.post(t).then(t=>{t.data.success&&(this.getOrder(),this.is_paid=!0)}).catch(t=>{this.$swal({icon:"error",title:""+t.data.message}),this.isLoading=!1})}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},Y=(c("a5f4"),c("6b0d")),Z=c.n(Y);const tt=Z()(X,[["render",V]]);e["default"]=tt},"5b57":function(t,e,c){},"9d61":function(t,e,c){t.exports=c.p+"img/banner-cart.c4c133f7.png"},a5f4:function(t,e,c){"use strict";c("5b57")},b600:function(t,e,c){t.exports=c.p+"img/cart-pd.f0a73fde.png"},fe29:function(t,e,c){t.exports=c.p+"img/cart-mb.ce69f0f6.png"}}]);
//# sourceMappingURL=chunk-74e2afd0.9ef413f6.js.map